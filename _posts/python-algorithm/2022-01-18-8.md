---
title:  "문자열 조작"
excerpt: "파이썬 알고리즘"

toc: true
toc_sticky: true
toc_label: "TOC"

categories:
  - python
  - algorithm
last_modified_at: 2022-01-18T16:00:00-50:00
---
문자열 조작은 문자열을 변경하거나 분리하는 등의 여러 과정을 말한다.  
파이썬은 다른 C와 같은 언어와 다르게 문자열 자료형, 문자열을 조작할 수 있는 여러 기능을 지원하기 떄문에 비교적 쉬운 편이다.
문자열 조작은 코딩테스트에서 많이 출제되며 실무에서도 다양하게 쓰이는데 문자열 처리와 관련한 알고리즘이 쓰이는 대표적인 분야는 다음과 같다.
* 정보 처리 분야 : 어떤 키워드로 웹 페이지를 탑색할 때 문자열 처리 애플리케이션을 이용하게 된다.
* 통신 시스템 분야 : 문자 메세지나 이메일을 보낼 때 기본적으로 문자열을 어느 한 곳에서 다른 곳으로 보내게 된다.
* 프로그래밍 시스템 분야 : 프로그램은 문자열로 구성되어 컴파일러나 인터프리터 등은 문자열을 해석하고 처리하여 기계어로 변환한다.

이번에는 파이썬의 문자열 조작을 위한 기능들과 어떤 기법들이 쓰이는 지 알아 볼 것이다.

## 유효한 팰린드롬
[leetcode 125. Valid Palindrome](https://leetcode.com/problems/valid-palindrome/).
> 125) Valid Palindrome  
> A phrase is a palindrome if, after converting all uppercase letters into lowercase letters and removing all non-alphanumeric characters, it reads the same forward and backward. Alphanumeric characters include letters and numbers.  
> Given a string s, return true if it is a palindrome, or false otherwise.  

> 125) 유효한 팰린드롬  
> 이 구가 palindrome이라면 대문자를 소문자로 바꾸고 모든 non-alphnumeric characters를 지운 후, 이 것을 앞으로, 뒤로 읽어도 같다.
> alphnumeric은 문자와 숫자를 포함한다.  
> string s가 주어진다면 , 이것이 palindrome이면 true를 return하고 다른것들에는 false를 return한다.  

### 나의 풀이
<script src="https://gist.github.com/an-jiohh/e83f82ca5e4917090d8a8e973c5e9371.js"></script>

- 2) s = s.lower()을 이용하여 문자열을 소문자로 바꿔준다  
- 3) 전처리한 문자열을 저장할 리스트를 생성한다.  
- 4 ~ 5) 반복문을 이용하여 한 글자씩 판별한다.(아스키 코드를 이용하여 a(97) ~ z(122), 0(48) ~ 9(57) 사이값이면 영숫자)  
- 6) 역순한 문자열을 저장할 리스트를 생성한다.  
- 7 ~ 8) 문자열을 역순시킨다.  
- 9) 역순한 문자열 == 문자열 이면 True를 출력한다.  

### 풀이1) 리스트로 변환
<script src="https://gist.github.com/an-jiohh/4cda0ef27dbe5291b1a940e0b641f826.js"></script>

나의 풀이와 가장 비슷한 풀이 방법이다. 크게 다른점은 다음과 같다.
1. 아스키 코드를 이용하여 직접 영숫자를 직접 비교했지만 필자는 isalnum() 함수를 이용하여 전처리를 했다는 점
2. pop()함수를 이용하여 팰린드롬 여부를 판별했다는 점

1번 사항은 python 사용전에 c++를 주로 사용하면서 문자열 처리가 필요할 때 아스키코드를 비교하는 방법을 주로 사용하였고  isalnum()함수를 알기 전이었기 때문에 다음과 같이 사용했다. 아스키 코드를 직접 사용하면 비교적 아스키코드표를 참고하여야 되기 때문에 시간상으로 오래걸릴 뿐만 아니라 
실수할 요소가 존재하기 때문에 isalnum() 함수를 알게된 이상 이런 방법을 지양하는 쪽으로 가게 될 것 같다.

2번 사항은 pop()함수를 이용하여 리스트의 앞, 뒤의 값을 반복하여 뺴오고 비교하며 하나라도 틀리면 False를 리턴하는 방법으로 비교도중 하나라도 틀리면 return되며 종료되기 때문에 전체를 다 비교하지 않으므로 나의 코드와 대비하여 일정 상황에서 빠를 것으로 생각된다. 현재 pop()함수의 숙련도가 높지않은 편이기 때문에 다른 문제도 겪어가며 숙련도를 높히면 다음과 같이 사용할 수 있을 것 같다.

### 풀이2) 데크 자료형을 이요한 최적화
<script src="https://gist.github.com/an-jiohh/903a6ae30cb109e802087f2c8c831a24.js"></script>

리스트를 데크로 명시적 선언하면 좀 더 속도를 높일 수 있다.
풀이 1) 대비 속도를 5배 가까이 높일 수 있는데 이는 pop(0)이 O(n)인데 반해, 데크의 popleft()는 O(1)이기 때문이다.
즉 각각 n번씩 반복하면, 리스트 구현은 O(n^2), 데크 구현은 O(n)이라고 한다.  
아직 데크에 대하 자세히 모르고 10장에서 나올 예정이라고 하니 참고하고 있으면 될 것 같다.

### 풀이3) 슬라이싱 사용
<script src="https://gist.github.com/an-jiohh/b0a2c0623768c55499d5d992b6b7cfca.js"></script>

다른 풀이에서는 isalnum()과 아스키코드 조건을 이용하여 모든 문자를 일일이 점검했다. 하지만 여기서는 문자열 전체를 한번에 영숫자만 걸러내도록 정규식으로 처리했다. 슬라이싱으로 [ : : -1]을 이용하여 뒤집었다. 이와같이 코드를 짤 경우 길이가 줄고 내부적으로 C로 빠르게 구현되어 있어 빠른 속도를 보장한다.

나의 풀이에서 s=s.lower()으로 작성했는데 lower()함수가 문자열 전체를 바꿀 수 있다는 것을 상기 시키는 정도로 마무리 하면될 것 같다.
정규식은 복잡한 문자열을 처리할 때 사용하는 기법이며 추후 [wikidocs 정규식](https://wikidocs.net/1669) 참고하여 [이곳]()에 추가할 예정이다.

### 속도비교

| 풀이 | 방식 ㅣ실행 시간 |
|------|------|------|
| 1 | 리스트로 변환 | 304 |
| 2 | 데크 자료형을 이용한 최적화 | 64 |
| 3 | 슬라이싱 사용 | 36 |
| 4 | C 구현 | 4 |

### 문자열 슬라이싱
문자열 슬라잇이은 내부적으로 매우 빠르게 동작하기 때문에 문자열을 조작할 대는 항상 슬라이싱을 우선으로 사용하는 편이 속도 개선에 유리하다.
다음은 **a = '안녕하세요'**를 다양한 방법으로 슬라이싱한 결과이다.
* S[1:4] == 녕하세
* S[1:-2] == 녕하
* S[1:] == 녕하세요
* S[:] == 안녕하세요 (파이썬은 a = b 형태로 대입하면 참조하는 형태이므로 a = b[:] 방식을 사용하여 복사한다.)
* S[1:100] == 녕하세요 (인덱스가 클 경우 최대 길이 만큼 표현)
* S[-1] == 요
* S[-4] == 녕 (뒤에서 4번째)
* S[:-3] == 안녕 (뒤에서 3개 글자 앞까지)
* S[-3:] == 하세요 (뒤에서 3번쨰 문자에서 마지막까지)
* S[::1] == 안녕하세요
* S[::-1] == 요세하녕안 
* S[::2] == 안하요
